echo "ğŸ”„ æ£€æŸ¥è¿ç§»æ–‡ä»¶å˜æ›´..."

# æ£€æŸ¥æ˜¯å¦æœ‰Prismaç›¸å…³å˜æ›´
if git diff --cached --name-only | grep -E "(prisma/|\.prisma)" > /dev/null; then
  echo "ğŸ“‹ æ£€æµ‹åˆ°Prismaå˜æ›´ï¼Œå¯¼å‡ºè¿ç§»è®°å½•..."
  
  # å¯¼å‡ºè¿ç§»è®°å½•
  node scripts/export-migrations.js
  
  # æ·»åŠ ç”Ÿæˆçš„åŒæ­¥æ–‡ä»¶åˆ°commit
  git add deployment/migration-sync.sql
  
  echo "âœ… è¿ç§»è®°å½•å·²å¯¼å‡ºå¹¶æ·»åŠ åˆ°æäº¤"
else
  echo "â„¹ï¸  æ— Prismaå˜æ›´ï¼Œè·³è¿‡è¿ç§»å¯¼å‡º"
fi

echo "âœ… é¢„æäº¤æ£€æŸ¥å®Œæˆ"
