# 业务模块功能文档

## 系统概述

这是一个综合性的企业资源计划(ERP)系统，专为电商和零售业务设计，管理从产品开发到财务报告的完整供应链流程。系统支持多店铺运营，具备基于角色的访问控制。

## 核心业务模块

### 1. 产品管理模块 📦

**模块路径**: `/src/app/products/`

#### 功能特性
- **产品目录管理**: 完整的产品生命周期管理，支持变体、规格和分类
- **产品属性管理**: 产品代码、SKU、ASIN、重量、尺寸、颜色、规格、包装类型
- **图片管理**: 支持多张产品图片，主图选择，配件图片管理
- **包装信息管理**: 详细包装规格(内外尺寸、包装重量、箱型)
- **分类管理**: 层级产品分类，支持搜索和筛选
- **多店铺支持**: 产品与特定店铺关联，支持按店铺筛选

#### 关键数据实体
- 产品主数据(含丰富元数据)
- 产品分类
- 产品图片和配件图片
- 店铺关联信息

### 2. 库存管理模块 📊

**模块路径**: `/src/app/inventory/`

#### 功能特性
- **成品库存**: 已完成产品的实时库存追踪
- **备件库存**: 备件和材料的管理
- **库位管理**: 仓库货位/位置追踪
- **库存水平监控**: 库存水平的可视化指示器，颜色编码警报
- **批次管理**: 支持不同包装配置(箱规、包装数量)
- **重量追踪**: 用于运费计算的详细重量信息

#### 关键数据实体
- 成品库存项目
- 备件库存
- 库存位置和数量
- 包装配置

### 3. 采购管理模块 🛒

**模块路径**: `/src/app/purchase/`

#### 功能特性
- **采购订单生命周期**: 从创建到收货的完整工作流程
- **多状态追踪**: 已创建 → 待确认 → 已确认 → 生产中 → 已发货 → 已收货 → 已取消
- **供应商集成**: 直接供应商通信和报价管理
- **订单共享**: 通过共享码与供应商安全共享采购订单
- **审批工作流**: 多级审批流程，带审计追踪
- **成本管理**: 单价、税费、折扣和总金额计算
- **紧急订单处理**: 紧急订单特殊标记和视觉指示

#### 关键功能
- 通过安全链接与外部供应商共享订单
- 实时供应商响应和报价提交
- 审批历史和状态追踪
- 供应商绩效分析

#### 关键数据实体
- 含详细项目的采购订单
- 供应商信息和联系人
- 审批历史和工作流
- 供应商供应记录

### 4. 供应商管理模块 🤝

**模块路径**: `/src/app/basic-data/suppliers/`

#### 功能特性
- **供应商主数据**: 完整的供应商档案和联系信息
- **财务信息**: 银行详情、信用代码、付款条件
- **绩效指标**: 生产周期、交付时间线
- **联系人管理**: 多个联系人和沟通渠道
- **文档管理**: 头像/标识支持，公司文档

#### 关键数据实体
- 含丰富元数据的供应商档案
- 联系信息和沟通详情
- 银行和财务信息
- 绩效追踪数据

### 5. 仓库与包装模块 📦

**模块路径**: `/src/app/warehouse/packaging-tasks/`

#### 功能特性
- **包装任务管理**: 基于任务的包装操作，带进度追踪
- **进度监控**: 可视化进度指示器(0-100%)，带状态更新
- **任务分配**: 操作员分配和追踪
- **多店铺支持**: 按店铺组织的包装任务
- **状态工作流**: 待处理 → 进行中 → 已完成 → 已取消

#### 关键数据实体
- 带进度追踪的包装任务
- 产品-项目关联
- 操作员分配
- 基于店铺的任务组织

### 6. 配送与运输模块 🚚

**模块路径**: `/src/app/delivery/`

#### 功能特性
- **运输记录管理**: 完整的运输生命周期追踪
- **多渠道支持**: 不同的运输渠道和目的地
- **状态追踪**: 待处理 → 已发货 → 运输中 → 已到达 → 已交付 → 已完成
- **FBA集成**: 支持亚马逊FBA运输，含货运代码
- **货代管理**: 与货运代理的集成
- **截止日期管理**: 仓库收货截止日期，带警报
- **地理追踪**: 国家和渠道特定的运输

#### 关键数据实体
- 含详细追踪的运输记录
- 运输产品和数量
- 货代信息和联系人
- 运输渠道和目的地

### 7. 财务管理模块 💰

**模块路径**: `/src/app/finance/`

#### 功能特性
- **月度财务报告**: 按月份和店铺的综合性财务报告
- **收入追踪**: 产品销售、服务费和其他收入
- **成本分析**: 产品成本、运费、营销和运营费用
- **利润计算**: 毛利润、净利润和利润率分析
- **绩效指标**: 库存周转率、销售转化率
- **现金流分析**: 运营、投资和融资现金流
- **广告投资回报率**: 营销活动的ACOS和ROAS计算

#### 关键追踪指标
- 总收入和净利润
- 利润率和百分比
- 库存周转率
- 广告绩效(ACOS, ROAS)
- 现金流报表

### 8. 基础数据管理 📋

**模块路径**: `/src/app/basic-data/`

#### 功能特性
- **店铺管理**: 多店铺配置和管理
- **供应商目录**: 集中化的供应商信息
- **货代管理**: 货运代理和物流合作伙伴管理
- **店铺配置**: 店铺特定设置和负责人

### 9. 系统管理 ⚙️

**模块路径**: `/src/app/system/`

#### 功能特性
- **用户管理**: 完整用户账户生命周期管理
- **基于角色的访问控制**: 细粒度权限和角色分配
- **审计日志**: 全面的系统活动追踪
- **安全管理**: 密码策略和访问控制

## 集成点和工作流

### 端到端业务流程

1. **产品设置**: 创建产品 → 定义规格 → 上传图片 → 分配分类
2. **库存规划**: 设置初始库存水平 → 定义包装 → 追踪位置
3. **采购**: 创建采购订单 → 与供应商共享 → 接收报价 → 批准订单
4. **供应商响应**: 供应商访问共享订单 → 提交报价 → 更新订单状态
5. **仓库操作**: 接收货物 → 更新库存 → 创建包装任务
6. **运输**: 创建运输记录 → 分配货代 → 追踪配送状态
7. **财务报告**: 生成月度报告 → 分析绩效 → 追踪盈利能力

### 跨模块数据流

- **产品 → 库存**: 产品主数据提供库存追踪
- **采购订单 → 库存**: 收货更新库存水平
- **供应商 → 采购订单**: 供应商数据填充订单信息
- **库存 → 运输**: 库存水平决定运输数量
- **所有模块 → 财务报告**: 综合数据聚合用于财务分析

### 外部集成

- **供应商门户**: 通过共享码安全外部访问报价提交
- **FBA集成**: 亚马逊FBA运输管理
- **多店铺支持**: 跨多个零售点的集中管理

## 用户体验特性

### 高级搜索和筛选

- 所有模块的多条件搜索
- 日期范围筛选
- 基于状态的筛选
- 店铺特定筛选
- 所有数据的导出功能

### 可视化管理

- 颜色编码的状态指示器
- 任务的进度条
- 带缩放功能的图片预览
- 移动端访问的响应式设计

### 工作流自动化

- 自动化状态进展
- 审批的邮件通知
- 实时库存更新
- 自动财务计算